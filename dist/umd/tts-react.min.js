!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e||self).TTSReact={},e.React)}(this,function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=/*#__PURE__*/n(t),r=0;function s(e){return"__private_"+r+++"_"+e}function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}const a=/[^\P{P}'/-]+/gu,l=e=>e.replace(a,"");function u(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}const c=function(){try{const e=this,t=function(){if(o(e,v)[v]instanceof HTMLAudioElement){const t=o(e,v)[v];return o(e,v)[v].addEventListener("canplay",o(e,M)[M].bind(e),{once:!0}),o(e,v)[v].addEventListener("playing",o(e,R)[R].bind(e)),o(e,v)[v].addEventListener("pause",o(e,I)[I].bind(e)),o(e,v)[v].addEventListener("ended",o(e,L)[L].bind(e)),o(e,v)[v].addEventListener("error",()=>{const n=t.error;o(e,w)[w](null==n?void 0:n.message)}),o(e,m)[m]&&o(e,v)[v].addEventListener("timeupdate",n=>{const i=1e3*t.currentTime,r=o(e,H)[H](i);r&&!e.paused&&o(e,N)[N](n,{word:r.value,startChar:r.start,endChar:r.end})}),Promise.resolve(o(e,S)[S]()).then(function(){})}}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},d=function(){try{const e=this,t=o(e,f)[f],n=u(function(){return Promise.resolve(t.play()).then(function(){})},function(t){t instanceof Error&&o(e,w)[w](t.message)});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},h=function(){try{const e=this,t=function(){if(o(e,f)[f]instanceof HTMLAudioElement){let t=null;const n=function(n,i){try{var r=u(function(){return Promise.resolve(o(e,y)[y](o(e,g)[g])).then(function(e){t=e})},function(t){t instanceof Error&&o(e,w)[w](t.message)})}catch(e){return i(!0,e)}return r&&r.then?r.then(i.bind(null,!1),i.bind(null,!0)):i(!1,r)}(0,function(n,i){var r;if(null!=(r=t)&&r.audio&&(o(e,f)[f].src=t.audio,o(e,E)[E]=t.marks??o(e,E)[E]),n)throw i;return i});if(n&&n.then)return n.then(function(){})}}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};var p;!function(e){e.BOUNDARY="boundary",e.END="end",e.ERROR="error",e.PAUSED="paused",e.PITCH="pitch",e.PLAYING="playing",e.RATE="rate",e.READY="ready",e.VOLUME="volume"}(p||(p={}));var v=/*#__PURE__*/s("target"),f=/*#__PURE__*/s("synthesizer"),m=/*#__PURE__*/s("dispatchBoundaries"),y=/*#__PURE__*/s("fetchAudioData"),E=/*#__PURE__*/s("marks"),g=/*#__PURE__*/s("text"),P=/*#__PURE__*/s("lang"),b=/*#__PURE__*/s("aborter"),A=/*#__PURE__*/s("initialized"),C=/*#__PURE__*/s("initWebSpeechVoice"),S=/*#__PURE__*/s("attachAudioSource"),L=/*#__PURE__*/s("dispatchEnd"),w=/*#__PURE__*/s("dispatchError"),M=/*#__PURE__*/s("dispatchReady"),R=/*#__PURE__*/s("dispatchPlaying"),I=/*#__PURE__*/s("dispatchPaused"),N=/*#__PURE__*/s("dispatchBoundary"),k=/*#__PURE__*/s("dispatchVolume"),T=/*#__PURE__*/s("dispatchRate"),O=/*#__PURE__*/s("dispatchPitch"),x=/*#__PURE__*/s("playHtmlAudio"),H=/*#__PURE__*/s("getPollySpeechMarkForAudioTime"),z=/*#__PURE__*/s("getBoundaryWordCharLength"),D=/*#__PURE__*/s("clamp"),U=/*#__PURE__*/s("recycle"),_=/*#__PURE__*/s("utteranceInit"),j=/*#__PURE__*/s("htmlAudioInit");class B extends EventTarget{constructor(e){super(),Object.defineProperty(this,j,{value:c}),Object.defineProperty(this,_,{value:ne}),Object.defineProperty(this,U,{value:te}),Object.defineProperty(this,D,{value:ee}),Object.defineProperty(this,z,{value:Q}),Object.defineProperty(this,H,{value:X}),Object.defineProperty(this,x,{value:d}),Object.defineProperty(this,O,{value:q}),Object.defineProperty(this,T,{value:J}),Object.defineProperty(this,k,{value:Z}),Object.defineProperty(this,N,{value:W}),Object.defineProperty(this,I,{value:K}),Object.defineProperty(this,R,{value:Y}),Object.defineProperty(this,M,{value:F}),Object.defineProperty(this,w,{value:V}),Object.defineProperty(this,L,{value:$}),Object.defineProperty(this,S,{value:h}),Object.defineProperty(this,C,{value:G}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:!0}),Object.defineProperty(this,y,{writable:!0,value:function(){try{return Promise.resolve({audio:"",marks:[]})}catch(e){return Promise.reject(e)}}}),Object.defineProperty(this,E,{writable:!0,value:[]}),Object.defineProperty(this,g,{writable:!0,value:""}),Object.defineProperty(this,P,{writable:!0,value:""}),Object.defineProperty(this,b,{writable:!0,value:new AbortController}),Object.defineProperty(this,A,{writable:!0,value:!1}),o(this,P)[P]=(null==e?void 0:e.lang)??o(this,P)[P],o(this,f)[f]=window.speechSynthesis,o(this,v)[v]=new SpeechSynthesisUtterance(o(this,g)[g]),o(this,m)[m]=(null==e?void 0:e.dispatchBoundaries)??o(this,m)[m],null!=e&&e.fetchAudioData?(o(this,v)[v]=o(this,f)[f]=new Audio,o(this,y)[y]=e.fetchAudioData):(o(this,C)[C](null==e?void 0:e.voice),window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=()=>{o(this,C)[C](null==e?void 0:e.voice)}))}get synthesizer(){return o(this,f)[f]}get target(){return o(this,v)[v]}set text(e){o(this,g)[g]=e,o(this,v)[v]instanceof SpeechSynthesisUtterance&&(o(this,v)[v].text=e)}get paused(){return o(this,f)[f].paused}get rate(){return o(this,f)[f]instanceof HTMLAudioElement?o(this,f)[f].playbackRate:o(this,v)[v].rate}set rate(e){const t=o(this,D)[D](parseFloat(e.toPrecision(3)),.1,10);Number.isNaN(t)||(o(this,T)[T](t),o(this,f)[f]instanceof HTMLAudioElement&&(o(this,f)[f].defaultPlaybackRate=t,o(this,f)[f].playbackRate=t),o(this,v)[v]instanceof SpeechSynthesisUtterance&&(o(this,v)[v].rate=t))}get pitch(){return o(this,v)[v]instanceof SpeechSynthesisUtterance?o(this,v)[v].pitch:-1}set pitch(e){if(o(this,v)[v]instanceof SpeechSynthesisUtterance){const t=o(this,D)[D](parseFloat(e.toPrecision(2)),0,2);Number.isNaN(t)||(o(this,O)[O](t),o(this,v)[v].pitch=t)}}get volumeMin(){return.01}get volumeMax(){return.99}get volume(){return o(this,v)[v].volume}set volume(e){const t=o(this,D)[D](parseFloat(e.toPrecision(2)),this.volumeMin,this.volumeMax);Number.isNaN(t)||(o(this,k)[k](t),o(this,v)[v].volume=t)}get preservesPitch(){return o(this,f)[f]instanceof HTMLAudioElement&&o(this,f)[f].preservesPitch}set preservesPitch(e){o(this,f)[f]instanceof HTMLAudioElement&&(o(this,f)[f].preservesPitch=e)}get lang(){return o(this,P)[P]}set lang(e){o(this,v)[v]instanceof SpeechSynthesisUtterance&&(o(this,P)[P]=e,o(this,v)[v].lang=e,o(this,v)[v].voice=null,o(this,C)[C]())}init(){try{const e=this,t=function(){if(!o(e,A)[A]){function t(){o(e,A)[A]=!0}o(e,v)[v]instanceof SpeechSynthesisUtterance&&o(e,_)[_]();const n=function(){if(o(e,v)[v]instanceof HTMLAudioElement)return Promise.resolve(o(e,j)[j]()).then(function(){})}();return n&&n.then?n.then(t):t()}}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}play(){try{const e=this,t=function(){if(o(e,f)[f]instanceof HTMLAudioElement)return Promise.resolve(o(e,x)[x]()).then(function(){});o(e,f)[f].speak(o(e,v)[v])}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}pause(){o(this,f)[f].pause()}resume(){try{const e=this,t=function(){if(o(e,f)[f]instanceof HTMLAudioElement)return Promise.resolve(o(e,x)[x]()).then(function(){});o(e,f)[f].resume()}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}replay(){try{const e=this,t=function(){if(o(e,f)[f]instanceof HTMLAudioElement)return o(e,f)[f].load(),Promise.resolve(o(e,x)[x]()).then(function(){});o(e,f)[f].resume(),o(e,f)[f].cancel(),o(e,f)[f].speak(o(e,v)[v])}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}cancel(){o(this,f)[f]instanceof HTMLAudioElement?o(this,f)[f].load():o(this,f)[f].cancel()}mute(){this.volume=0,o(this,f)[f]instanceof HTMLAudioElement||this.paused||!o(this,f)[f].speaking||this.replay()}unmute(e){this.volume=e??1,o(this,f)[f]instanceof HTMLAudioElement||this.paused||!o(this,f)[f].speaking||this.replay()}}function G(e){if(o(this,v)[v]instanceof SpeechSynthesisUtterance){let t=window.speechSynthesis.getVoices();e&&(o(this,v)[v].voice=e),o(this,P)[P]&&(t=t.filter(e=>e.lang===o(this,P)[P]),o(this,v)[v].voice=t[0]??null,e&&e.lang===o(this,P)[P]&&(o(this,v)[v].voice=e))}}function $(e){this.dispatchEvent(new CustomEvent(p.END,{detail:e}))}function V(e){this.dispatchEvent(new CustomEvent(p.ERROR,{detail:e}))}function F(){this.dispatchEvent(new Event(p.READY))}function Y(e){this.dispatchEvent(new CustomEvent(p.PLAYING,{detail:e}))}function K(e){this.dispatchEvent(new CustomEvent(p.PAUSED,{detail:e}))}function W(e,t){this.dispatchEvent(new CustomEvent(p.BOUNDARY,{detail:{evt:e,boundary:t}}))}function Z(e){this.dispatchEvent(new CustomEvent(p.VOLUME,{detail:e}))}function J(e){this.dispatchEvent(new CustomEvent(p.RATE,{detail:e}))}function q(e){this.dispatchEvent(new CustomEvent(p.PITCH,{detail:e}))}function X(e){const t=o(this,E)[E].length;let n=o(this,E)[E][0],i=!1,r=1;for(;r<t&&!i;)o(this,E)[E][r].time<=e?n=o(this,E)[E][r]:i=!0,r++;return n}function Q(e){const t=o(this,g)[g].substring(e).match(/.+?\b/);return t?t[0].length:0}function ee(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),Math.max(t,Math.min(e,n))}function te(){return o(this,b)[b].abort(),o(this,b)[b]=new AbortController,o(this,b)[b].signal}function ne(){if(o(this,v)[v]instanceof SpeechSynthesisUtterance){const e=o(this,U)[U]();o(this,v)[v].addEventListener("end",o(this,L)[L].bind(this),{signal:e}),o(this,v)[v].addEventListener("start",o(this,R)[R].bind(this),{signal:e}),o(this,v)[v].addEventListener("resume",o(this,R)[R].bind(this),{signal:e}),o(this,v)[v].addEventListener("pause",o(this,I)[I].bind(this),{signal:e}),o(this,v)[v].addEventListener("error",e=>{o(this,w)[w](e.error)},{signal:e}),o(this,P)[P]&&(o(this,v)[v].lang=o(this,P)[P]),o(this,m)[m]&&o(this,v)[v].addEventListener("boundary",e=>{const{charIndex:t}=e,n=t+(e.charLength??o(this,z)[z](t)),i=o(this,g)[g].substring(t,n);i&&!(e=>{const t=e.trim();return a.test(t)&&1===t.length})(i)&&o(this,N)[N](e,{word:i,startChar:t,endChar:n})},{signal:e}),o(this,M)[M]()}}const ie=e=>{let{text:n,mark:r,color:s,backgroundColor:o}=e;const a=t.useMemo(()=>(e=>{let{color:t,backgroundColor:n}=e;return{color:t,backgroundColor:n}})({color:s,backgroundColor:o}),[s,o]);if(n&&r){const e=n.toString(),t=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=new RegExp(`(${t})`,"gi"),o=e.split(s);if(o.length>1)/*#__PURE__*/return i.default.createElement("span",null,o.map((e,t)=>{const n=`${e}-${t}`;return e?s.test(e)?/*#__PURE__*/i.default.createElement("mark",{key:n,style:a,"data-testid":"tts-react-mark"},e):/*#__PURE__*/i.default.createElement("span",{key:n},e):null}))}/*#__PURE__*/return i.default.createElement(i.default.Fragment,null,n)},re=e=>{let{children:n,buffer:r,boundary:s,markColor:o,markBackgroundColor:a,markTextAsSpoken:u}=e;return t.Children.map(n,e=>{let n=e;if(/*#__PURE__*/t.isValidElement(e)&&(n=/*#__PURE__*/t.cloneElement(e,{...e.props,children:re({buffer:r,boundary:s,markColor:o,markBackgroundColor:a,markTextAsSpoken:u,children:e.props.children})})),"string"==typeof(c=e)||"number"==typeof c){const t=e.toString(),{word:n,startChar:c,endChar:d}=s,h=r.text.length;if(r.text+=`${t} `,u&&n){const e=c-h,n=d-h,r=t.substring(0,e),s=t.substring(e,n),u=t.substring(n,t.length);if(s)/*#__PURE__*/return i.default.createElement(i.default.Fragment,null,r,/*#__PURE__*/i.default.createElement(ie,{text:s,mark:l(s),color:o,backgroundColor:a}),u)}}var c;return n})},se={word:"",startChar:0,endChar:0},oe=(e,t)=>{switch(t.type){case"pause":return{...e,isPlaying:!1,isPaused:!0,isError:!1};case"play":case"reset":return{...e,isPlaying:!0,isPaused:!1,isError:!1,boundary:se};case"end":return{...e,isPlaying:!1,isPaused:!1,isError:!1,boundary:se};case"error":return{...e,isPlaying:!1,isPaused:!1,isError:!0,boundary:se};case"ready":return{...e,isReady:!0};case"boundary":return{...e,boundary:{...e.boundary,...t.payload}};case"voices":return{...e,voices:t.payload};case"stop":return{...e,isPlaying:!1,isPaused:!1,isError:!1};case"muted":return{...e,isMuted:!0};case"unmuted":return{...e,isMuted:!1}}},ae=e=>{var n;let{lang:i,rate:r,volume:s,voice:o,children:a,markColor:l,markBackgroundColor:u,onStart:c,onPause:d,onBoundary:h,onEnd:v,onError:f,onVolumeChange:m,onPitchChange:y,onRateChange:E,fetchAudioData:g,autoPlay:P=!1,markTextAsSpoken:b=!1}=e;const A=t.useRef(),[C,S]=t.useReducer(oe,{voices:(null==(n=window.speechSynthesis)?void 0:n.getVoices())??[],boundary:se,isPlaying:!1,isPaused:!1,isMuted:!1,isError:!1,isReady:void 0===g}),[L,w]=t.useMemo(()=>{if(void 0===A.current||b){const e={text:""},t=re({children:a,buffer:e,markColor:l,markBackgroundColor:u,markTextAsSpoken:b,boundary:C.boundary});return A.current=e.text.trim(),[t,A.current]}return[a,A.current]},[a,C.boundary,l,u,b]),M=t.useMemo(()=>new B({lang:i,voice:o,fetchAudioData:g}),[i,o,g]),R=t.useCallback(function(){try{return C.isPaused?M.resume():M.replay(),S({type:"play"}),Promise.resolve()}catch(e){return Promise.reject(e)}},[M,C.isPaused]),I=t.useCallback(()=>{M.pause(),S({type:"pause"})},[M]),N=t.useCallback(()=>{M.replay(),S({type:"reset"})},[M]),k=t.useCallback(()=>{M.cancel(),S({type:"stop"})},[M]),T=t.useCallback(e=>{const t=parseFloat(M.volume.toFixed(2))===M.volumeMin;t?(M.unmute(),S({type:"unmuted"})):(M.mute(),S({type:"muted"})),"function"==typeof e&&e(t)},[M]),O=t.useMemo(()=>C.isPlaying?I:R,[C.isPlaying,I,R]),x=t.useMemo(()=>C.isPlaying?k:R,[C.isPlaying,k,R]),[H,z]=t.useMemo(()=>[{lang:()=>M.lang,rate:()=>M.rate,pitch:()=>M.pitch,volume:()=>M.volume,preservesPitch:()=>M.preservesPitch},{lang(e){M.lang=e},rate(e){M.rate=e},pitch(e){M.pitch=e},volume(e){M.volume=e},preservesPitch(e){M.preservesPitch=e}}],[M]),D=t.useCallback(e=>{S({type:"play"}),"function"==typeof c&&c(e.detail)},[c]),U=t.useCallback(e=>{"function"==typeof d&&d(e.detail)},[d]),_=t.useCallback(e=>{S({type:"end"}),"function"==typeof v&&v(e.detail)},[v]),j=t.useCallback(()=>{S({type:"ready"})},[]),G=t.useCallback(e=>{S({type:"error"}),"function"==typeof f&&f(e.detail)},[f]),$=t.useCallback(e=>{S({type:"boundary",payload:e.detail.boundary}),"function"==typeof h&&h(e.detail.boundary,e.detail.evt)},[h]),V=t.useCallback(e=>{const t=e.detail,n=M.volumeMin;t===n&&M.volume!==n&&S({type:"muted"}),t!==n&&M.volume===n&&S({type:"unmuted"}),"function"==typeof m&&m(t)},[m,M]),F=t.useCallback(e=>{"function"==typeof y&&y(e.detail)},[y]),Y=t.useCallback(e=>{"function"==typeof E&&E(e.detail)},[E]);return t.useEffect(()=>{M.text=w},[w,M]),t.useEffect(()=>{r&&Number.isFinite(r)&&(M.rate=r),s&&Number.isFinite(s)&&(M.volume=s)},[M,r,s]),t.useEffect(()=>{const e=()=>{M.cancel()};return function(){try{M.addEventListener(p.PLAYING,D),M.addEventListener(p.PAUSED,U),M.addEventListener(p.END,_),M.addEventListener(p.ERROR,G),M.addEventListener(p.READY,j),M.addEventListener(p.BOUNDARY,$),M.addEventListener(p.VOLUME,V),M.addEventListener(p.PITCH,F),M.addEventListener(p.RATE,Y),window.addEventListener("beforeunload",e),Promise.resolve(M.init()).then(function(){})}catch(e){return Promise.reject(e)}}(),()=>{window.removeEventListener("beforeunload",e),M.removeEventListener(p.PLAYING,D),M.removeEventListener(p.PAUSED,U),M.removeEventListener(p.END,_),M.removeEventListener(p.ERROR,G),M.removeEventListener(p.READY,j),M.removeEventListener(p.BOUNDARY,$),M.removeEventListener(p.VOLUME,V),M.removeEventListener(p.PITCH,F),M.removeEventListener(p.RATE,Y)}},[D,$,U,_,j,G,h,V,F,Y,M]),t.useEffect(()=>{P&&C.isReady&&(M.replay(),S({type:"play"}))},[P,M,C.isReady,w]),t.useEffect(()=>{var e;const t=()=>{S({type:"voices",payload:window.speechSynthesis.getVoices()})};return"function"==typeof(null==(e=window.speechSynthesis)?void 0:e.addEventListener)&&window.speechSynthesis.addEventListener("voiceschanged",t),()=>{var e;"function"==typeof(null==(e=window.speechSynthesis)?void 0:e.removeEventListener)&&window.speechSynthesis.removeEventListener("voiceschanged",t)}},[]),{get:H,set:z,state:C,spokenText:w,ttsChildren:L,play:R,stop:k,pause:I,replay:N,playOrStop:x,playOrPause:O,toggleMute:T}};var le;e.Sizes=void 0,(le=e.Sizes||(e.Sizes={})).SMALL="small",le.MEDIUM="medium",le.LARGE="large";const ue={small:16,medium:24,large:32},ce={play(t){let{size:n=e.Sizes.MEDIUM}=t;return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="${ue[n]}px"\n        viewBox="0 0 24 24"\n        width="${ue[n]}px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M8 5v14l11-7z" />\n      </svg>\n    `},pause(t){let{size:n=e.Sizes.MEDIUM}=t;return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="${ue[n]}px"\n        viewBox="0 0 24 24"\n        width="${ue[n]}px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />\n      </svg>\n    `},stop(t){let{size:n=e.Sizes.MEDIUM}=t;return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="${ue[n]}px"\n        viewBox="0 0 24 24"\n        width="${ue[n]}px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M6 6h12v12H6z" />\n      </svg>\n    `},replay(t){let{size:n=e.Sizes.MEDIUM}=t;return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="${ue[n]}px"\n        viewBox="0 0 24 24"\n        width="${ue[n]}px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" />\n      </svg>\n    `},volumeDown(t){let{size:n=e.Sizes.MEDIUM}=t;return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="${ue[n]}px"\n        viewBox="0 0 24 24"\n        width="${ue[n]}px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z" />\n      </svg>\n    `},volumeOff(t){let{size:n=e.Sizes.MEDIUM}=t;return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="${ue[n]}px"\n        viewBox="0 0 24 24"\n        width="${ue[n]}px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" />\n      </svg>\n    `},volumeUp(t){let{size:n=e.Sizes.MEDIUM}=t;return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="${ue[n]}px"\n        viewBox="0 0 24 24"\n        width="${ue[n]}px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" />\n      </svg>\n    `}},de={[e.Sizes.SMALL]:5,[e.Sizes.MEDIUM]:5,[e.Sizes.LARGE]:5},he=n=>{let{title:r,type:s,onClick:o,size:a=e.Sizes.MEDIUM,align:l="horizontal",...u}=n;const c="tts-react-controls",d=t.useMemo(()=>ce[s]({size:a}),[s,a]),h=t.useMemo(()=>(e=>{let{size:t,align:n,type:i}=e;const r={margin:0,padding:`${de[t]}px`,border:"none",borderRadius:`${ue[t]}px`,color:"black",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent"};if("replay"===i){const e=`-${ue[t]+2*de[t]+5}px`,i="horizontal"===n?"right":"bottom";return{...r,[i]:e,position:"absolute",background:"#f2f1f1a6",zIndex:9999}}return r})({size:a,align:l,type:s}),[a,l,s]);return t.useEffect(()=>{let e=document.querySelector(`style[data-id="${c}"]`);return e||(e=document.createElement("style"),e.setAttribute("data-id",c),e.innerHTML='\n        button[data-tts-react-control]:hover {\n          background-color: #ebeaeaa6 !important;\n        }\n        button[data-id="tts-react-replay"]:hover {\n          filter: brightness(0.98);\n        }\n      ',document.head.appendChild(e)),()=>{e=null}},[l,a,s]),/*#__PURE__*/i.default.createElement("button",{title:r,"data-tts-react-control":!0,"data-id":`tts-react-${s}`,onClick:o,style:h,dangerouslySetInnerHTML:{__html:d},...u})};var pe,ve;e.Positions=void 0,(pe=e.Positions||(e.Positions={})).TL="topLeft",pe.TR="topRight",pe.BL="bottomLeft",pe.BR="bottomRight",pe.TC="topCenter",pe.RC="rightCenter",pe.BC="bottomCenter",pe.LC="leftCenter",e.LanguageTags=void 0,(ve=e.LanguageTags||(e.LanguageTags={})).ARABIC_SAUDI_ARABIA="ar-SA",ve.CZECH_CZECH_REPUBLIC="cs-CZ",ve.DANISH_DENMARK="da-DK",ve.GERMAN_GERMANY="de-DE",ve.MODERN_GREEK_GREECE="el-GR",ve.ENGLISH_AUSTRALIA="en-AU",ve.ENGLISH_UNITED_KINGDOM="en-GB",ve.ENGLISH_IRELAND="en-IE",ve.ENGLISH_UNITED_STATES="en-US",ve.ENGLISH_SOUTH_AFRICA="en-ZA",ve.SPANISH_SPAIN="es-ES",ve.SPANISH_MEXICO="es-MX",ve.FINNISH_FINLAND="fi-FI",ve.FRENCH_CANADA="fr-CA",ve.FRENCH_FRANCE="fr-FR",ve.HEBREW_ISRAEIL="he-IL",ve.HINDI_INDIA="hi-IN",ve.HUNGARIAN_HUNGARY="hu-HU",ve.INDONESIAN_INDONESIA="id-ID",ve.ITALIAN_ITALY="it-IT",ve.JAPANESE_JAPAN="ja-JP",ve.KOREAN_REPUBLIC_OF_KOREA="ko-KR",ve.DUTCH_BELGIUM="nl-BE",ve.DUTCH_NETHERLANDS="nl-NL",ve.NORWEGIAN_NORWAY="no-NO",ve.POLISH_POLAND="pl-PL",ve.PORTUGUESE_BRAZIL="pt-BR",ve.PORTUGUESE_PORTUGAL="pt-PT",ve.ROMANIAN_ROMANIA="ro-RO",ve.RUSSIAN_RUSSIAN_FEDERATION="ru-RU",ve.SLOVAK_SLOVAKIA="sk-SK",ve.SWEDISH_SWEDEN="sv-SE",ve.THAI_THAILAND="th-TH",ve.TURKISH_TURKEY="tr-TR",ve.CHINESE_CHINA="zh-CN",ve.CHINESE_HONG_KONG="zh-HK",ve.CHINESE_TAIWAN="zh-TW",e.TextToSpeech=n=>{let{size:r,lang:s,rate:o,voice:a,volume:l,children:u,position:c,onStart:d,onPause:h,onBoundary:p,onEnd:v,onError:f,onMuteToggled:m,onVolumeChange:y,onPitchChange:E,onRateChange:g,fetchAudioData:P,markColor:b,markBackgroundColor:A,autoPlay:C=!1,allowMuting:S=!0,align:L="horizontal",markTextAsSpoken:w=!1,useStopOverPause:M=!1}=n;const{state:R,replay:I,toggleMute:N,playOrPause:k,playOrStop:T,ttsChildren:O}=ae({lang:s,rate:o,voice:a,volume:l,children:u,onStart:d,onPause:h,onBoundary:p,onEnd:v,onError:f,onVolumeChange:y,onPitchChange:E,onRateChange:g,fetchAudioData:P,autoPlay:C,markColor:b,markBackgroundColor:A,markTextAsSpoken:w}),x=t.useMemo(()=>(t=>{let{position:n=e.Positions.LC}=t,i="'cnt ctl'",r="1fr auto",s="start";switch(n){case e.Positions.TL:i="'ctl cnt'",r="auto 1fr";break;case e.Positions.BL:i="'ctl cnt'",s="end",r="auto 1fr";break;case e.Positions.BR:i="'cnt ctl'",s="end";break;case e.Positions.TC:r="1fr",i="'ctl'\n'cnt'",s="center";break;case e.Positions.RC:s="center";break;case e.Positions.BC:r="1fr",i="'cnt'\n'ctl'",s="center";break;case e.Positions.LC:i="'ctl cnt'",r="auto 1fr",s="center"}return{alignItems:s,gridTemplateAreas:i,gridTemplateColumns:r,display:"grid",gap:"15px"}})({position:c}),[c]),H=t.useMemo(()=>(t=>{let{align:n,position:i=e.Positions.LC,size:r=e.Sizes.MEDIUM}=t;return{position:"relative",display:"inline-flex",flexDirection:"horizontal"===n?"row":"column",gap:"5px",gridArea:"ctl",padding:0,margin:i.includes("Center")?"auto":0,backgroundColor:"#f2f1f1a6",borderRadius:`${ue[r]+de[r]}px`,border:"1px solid transparent"}})({align:L,position:c,size:r}),[L,c,r]),z=t.useMemo(()=>({gridArea:"cnt"}),[]),[D,U,_]=t.useMemo(()=>R.isPlaying?M?["stop","Stop",T]:["pause","Pause",k]:["play","Play",k],[R.isPlaying,M,T,k]),j=t.useCallback(()=>{N(m)},[N,m]);/*#__PURE__*/return i.default.createElement("div",{style:x,className:"tts-react","data-testid":"tts-react"},R.isReady&&/*#__PURE__*/i.default.createElement("aside",{style:H,"data-testid":"tts-react-controls"},S&&/*#__PURE__*/i.default.createElement(he,{size:r,align:L,title:R.isMuted?"Unmute":"Mute","aria-label":R.isMuted?"Unmute":"Mute",onClick:j,type:R.isMuted?"volumeOff":R.isPlaying?"volumeUp":"volumeDown"}),/*#__PURE__*/i.default.createElement(he,{type:D,title:U,"aria-label":U,onClick:_,size:r,align:L}),R.isPaused&&/*#__PURE__*/i.default.createElement(he,{type:"replay",size:r,align:L,title:"Replay","aria-label":"Replay",onClick:I})),/*#__PURE__*/i.default.createElement("div",{style:z},O))},e.useTts=ae});
//# sourceMappingURL=tts-react.min.js.map
